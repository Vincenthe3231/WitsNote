{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic Post Template</title>
    <!-- Google Fonts - Inter (or a similar clean font) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/blog-post-alignment.css' %}">
    <!-- Font Awesome for icons (optional, but good for visual appeal) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    {% include 'quick-load/load-style.html' %}
</head>

<body id="top">
    {% include 'format/navbar.html' %}
    {% include 'format/header.html' %}
    <div class="container container-infographic">
        <main id="infographic-sections-container">
            <!-- Infographic Section Template (hidden, to be cloned by JS) -->
            <div class="infographic-section d-none" id="section-template">
                <div class="d-flex flex-column flex-md-row align-items-md-start">
                    <div class="section-number mb-3 mb-md-0"></div>
                    <div class="section-content w-100">
                        <input type="text" class="form-control mb-3 section-title" placeholder="Section Title" />
                        <textarea class="form-control section-textarea"
                            placeholder="Write your detailed content for this section here..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Initial Infographic Sections (can be pre-populated by Django) -->
            <!-- Example of how Django might pre-populate sections -->
            <!-- In Django, you would loop through your existing sections here -->
            <div class="infographic-section">
                <div class="d-flex flex-column flex-md-row align-items-md-start">
                    <div class="section-number mb-3 mb-md-0">1</div>
                    <div class="section-content w-100">
                        <input type="text" class="form-control mb-3 section-title" value="Set Clear Expectations"
                            placeholder="Section Title" />
                        <textarea class="form-control section-textarea"
                            placeholder="Write your detailed content for this section here...">Make sure you are aware of all the course requirements, deadlines, and learning objectives before committing to starting an online course. This includes understanding the time commitment required for your course and that you can consistently attend live teaching sessions.</textarea>
                    </div>
                </div>
            </div>

            <div class="infographic-section">
                <div class="d-flex flex-column flex-md-row align-items-md-start">
                    <div class="section-number mb-3 mb-md-0">2</div>
                    <div class="section-content w-100">
                        <input type="text" class="form-control mb-3 section-title"
                            value="Check All Technical Requirements" placeholder="Section Title" />
                        <textarea class="form-control section-textarea"
                            placeholder="Write your detailed content for this section here...">Ensure that you are aware of all the technical requirements before committing to starting an online course. This includes having the necessary hardware equipment that you may need.</textarea>
                    </div>
                </div>
            </div>

            <div class="text-center mt-4">
                <button id="addSectionBtn" class="btn btn-primary add-section-btn">
                    <i class="fas fa-plus-circle me-2"></i>Add New Section
                </button>
            </div>
        </main>
    </div>
    {% include 'format/footer.html' %}
    {% include 'quick-load/load-js.html' %}
    <script src="{static 'js/post-customization/infographic-post.js'}">
        document.addEventListener('DOMContentLoaded', function () {
            const addSectionBtn = document.getElementById('addSectionBtn');
            const sectionsContainer = document.getElementById('infographic-sections-container');
            const sectionTemplate = document.getElementById('section-template');

            let sectionCount = sectionsContainer.querySelectorAll('.infographic-section:not(.d-none)').length;

            addSectionBtn.addEventListener('click', function () {
                sectionCount++;
                const newSection = sectionTemplate.cloneNode(true);
                newSection.id = `section-${sectionCount}`;
                newSection.classList.remove('d-none'); // Make it visible

                // Update the section number
                newSection.querySelector('.section-number').textContent = sectionCount;

                // Clear placeholder values for new sections
                newSection.querySelector('.section-title').value = '';
                newSection.querySelector('.section-textarea').value = '';

                sectionsContainer.appendChild(newSection);

                // Optional: Scroll to the new section
                newSection.scrollIntoView({ behavior: 'smooth', block: 'end' });
            });
        });
    </script>
</body>

</html>